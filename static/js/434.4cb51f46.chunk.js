"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[434],{21:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var a=t(971),c=t(318),i=t(43),r=t(54),n=t(818),l=t(248),o=t(355),d=t(579);const m=e=>{let{comic:s}=e;const{title:t,description:a,pageCount:i,thumbnail:r,language:n,price:l}=s;return(0,d.jsxs)("div",{className:"single-comic",children:[(0,d.jsx)("img",{src:r,alt:t,className:"single-comic__img"}),(0,d.jsxs)("div",{className:"single-comic__info",children:[(0,d.jsx)("h2",{className:"single-comic__name",children:t}),(0,d.jsx)("p",{className:"single-comic__descr",children:a}),(0,d.jsx)("p",{className:"single-comic__descr",children:i}),(0,d.jsxs)("p",{className:"single-comic__descr",children:["Language: ",n]}),(0,d.jsx)("div",{className:"single-comic__price",children:l})]}),(0,d.jsx)(c.N_,{to:"/comics",className:"single-comic__back",children:"Back to all"})]})},u=()=>{const{comicId:e}=(0,a.g)(),[s,t]=(0,i.useState)(null),{loading:c,error:u,getComic:g,clearError:h}=(0,r.A)();(0,i.useEffect)(()=>{p()},[e]);const p=()=>{h(),g(e).then(v)},v=e=>{t(e)},b=u?(0,d.jsx)(l.A,{}):null,x=c?(0,d.jsx)(n.A,{}):null,f=c||u||!s?null:(0,d.jsx)(m,{comic:s});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.A,{}),b,x,f]})}},54:(e,s,t)=>{t.d(s,{A:()=>c});var a=t(43);const c=()=>{const{loading:e,request:s,error:t,clearError:c}=(()=>{const[e,s]=(0,a.useState)(!1),[t,c]=(0,a.useState)(null);return{loading:e,request:(0,a.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s(!0);try{const c=await fetch(e,{method:t,body:a,headers:i});if(!c.ok)throw new Error(`Could not fetch ${e}, status: ${c.status}`);const r=await c.json();return s(!1),r}catch(r){throw s(!1),c(r.message),r}},[]),error:t,clearError:(0,a.useCallback)(()=>c(null),[])}})(),i="https://marvel-server-zeta.vercel.app/",r="apikey=d4eecb0c66dedbfae4eab45d312fc1df",n=e=>({id:e.id,name:e.name,description:e.description?`${e.description.length>210?e.description.slice(0,210)+"...":e.description}`:"Character doesn't have description :(",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items.slice(0,10)}),l=e=>{var s;return{id:e.id,title:e.title,description:e.description||"There is no description",pageCount:e.pageCount?`${e.pageCount} p.`:"No information about the number of pages",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,price:e.prices[0].price?`${e.prices[0].price}$`:"not available",language:(null===(s=e.textObjects[0])||void 0===s?void 0:s.languages)||"en-us"}};return{loading:e,error:t,getAllCharacters:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(await s(`${i}characters?limit=9&offset=${e}&${r}`)).data.results.map(n)},getCharacter:async e=>{const t=await s(`${i}characters/${e}?${r}`);return n(t.data.results[0])},clearError:c,getAllComics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(await s(`${i}comics?limit=8&offset=${e}&${r}`)).data.results.map(l)},getComic:async e=>{const t=await s(`${i}comics/${e}?${r}`);return l(t.data.results[0])}}}},248:(e,s,t)=>{t.d(s,{A:()=>i});const a=t.p+"static/media/error.42292aa12b6bc303ce99.gif";var c=t(579);const i=()=>(0,c.jsx)("img",{src:a,alt:"Error gif",style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"}})},355:(e,s,t)=>{t.d(s,{A:()=>r});const a=t.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png",c=t.p+"static/media/Avengers_logo.9eaf219344d83362e830.png";var i=t(579);const r=()=>(0,i.jsxs)("div",{className:"app__banner",children:[(0,i.jsx)("img",{src:a,alt:"Avangers"}),(0,i.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,i.jsx)("br",{}),"Stay tuned!"]}),(0,i.jsx)("img",{src:c,alt:"Avengers logo"})]})}}]);
//# sourceMappingURL=434.4cb51f46.chunk.js.map